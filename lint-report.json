[{"filePath":"d:\\Personal\\weather\\react\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\api\\weatherapi.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\components\\CityCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\components\\Dashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\components\\Login.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\components\\SearchBar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\firebase\\fconfig.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\redux\\authSlice.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\redux\\store.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\redux\\weatherSlice.js","messages":[{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":37,"column":11,"nodeType":"BlockStatement","messageId":"unexpected","endLine":38,"endColumn":4,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[890,893],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":47,"column":11,"nodeType":"BlockStatement","messageId":"unexpected","endLine":48,"endColumn":4,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[1070,1073],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'force' is defined but never used.","line":60,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":60,"endColumn":33,"suggestions":[{"messageId":"removeVar","data":{"varName":"force"},"fix":{"range":[1386,1393],"text":""},"desc":"Remove unused variable 'force'."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { fetchWeatherBundle, searchCities } from \"../services/weatherApi\";\n\nconst FAVORITES_KEY = \"weather-favorites\";\nconst UNIT_KEY = \"weather-unit\";\n\nconst loadFavorites = () => {\n  if (typeof window === \"undefined\") {\n    return [];\n  }\n  try {\n    const value = window.localStorage.getItem(FAVORITES_KEY);\n    return value ? JSON.parse(value) : [];\n  } catch {\n    return [];\n  }\n};\n\nconst loadUnit = () => {\n  if (typeof window === \"undefined\") {\n    return \"metric\";\n  }\n  try {\n    const value = window.localStorage.getItem(UNIT_KEY);\n    return value ? JSON.parse(value) : \"metric\";\n  } catch {\n    return \"metric\";\n  }\n};\n\nconst persistFavorites = (favorites) => {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  try {\n    window.localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n  } catch {\n  }\n};\n\nconst persistUnit = (unit) => {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  try {\n    window.localStorage.setItem(UNIT_KEY, JSON.stringify(unit));\n  } catch {\n  }\n};\n\nconst locationKey = (location) => {\n  if (location.lat == null || location.lon == null) {\n    return (location.name ?? \"\").toLowerCase();\n  }\n  return `${location.lat.toFixed(3)},${location.lon.toFixed(3)}`;\n};\n\nexport const loadWeather = createAsyncThunk(\n  \"weather/loadWeather\",\n  async ({ location, unit, force }, { rejectWithValue }) => {\n    try {\n      const response = await fetchWeatherBundle({ location: { ...location }, unit });\n      return { ...response, unit };\n    } catch (error) {\n      return rejectWithValue(error.message ?? \"Failed to load weather\");\n    }\n  },\n  {\n    condition: ({ location, force }, { getState }) => {\n      if (force) {\n        return true;\n      }\n      const state = getState();\n      const entry = state.weather.entities[locationKey(location)];\n      if (!entry) {\n        return true;\n      }\n      const age = Date.now() - entry.updatedAt;\n      return age > 60000;\n    },\n  }\n);\n\nexport const searchLocations = createAsyncThunk(\n  \"weather/searchLocations\",\n  async (query, { rejectWithValue }) => {\n    try {\n      return await searchCities(query);\n    } catch (error) {\n      return rejectWithValue(error.message ?? \"Search failed\");\n    }\n  }\n);\n\nconst initialState = {\n  unit: loadUnit(),\n  favorites: loadFavorites(),\n  entities: {},\n  search: {\n    query: \"\",\n    results: [],\n    status: \"idle\",\n    error: null,\n  },\n};\n\nconst weatherSlice = createSlice({\n  name: \"weather\",\n  initialState,\n  reducers: {\n    setUnit: (state, action) => {\n      state.unit = action.payload;\n      persistUnit(state.unit);\n    },\n    setSearchQuery: (state, action) => {\n      state.search.query = action.payload;\n    },\n    toggleFavorite: (state, action) => {\n      const key = locationKey(action.payload);\n      const exists = state.favorites.find((item) => locationKey(item) === key);\n      if (exists) {\n        state.favorites = state.favorites.filter((item) => locationKey(item) !== key);\n      } else {\n        state.favorites.push(action.payload);\n      }\n      persistFavorites(state.favorites);\n    },\n    hydrateFavorite: (state, action) => {\n      const normalized = action.payload.map((item) => ({\n        id: item.id ?? locationKey(item),\n        name: item.name,\n        country: item.country ?? \"\",\n        state: item.state ?? \"\",\n        lat: item.lat,\n        lon: item.lon,\n      }));\n      state.favorites = normalized;\n      persistFavorites(state.favorites);\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadWeather.pending, (state, action) => {\n        const key = locationKey(action.meta.arg.location);\n        const entry = state.entities[key] ?? {};\n        state.entities[key] = { ...entry, status: \"loading\", error: null };\n      })\n      .addCase(loadWeather.fulfilled, (state, action) => {\n        const key = locationKey(action.payload.location);\n        state.entities[key] = {\n          location: action.payload.location,\n          current: action.payload.current,\n          forecast: action.payload.forecast,\n          unit: action.payload.unit,\n          updatedAt: Date.now(),\n          status: \"succeeded\",\n          error: null,\n        };\n      })\n      .addCase(loadWeather.rejected, (state, action) => {\n        const key = locationKey(action.meta.arg.location);\n        const entry = state.entities[key] ?? {};\n        state.entities[key] = {\n          ...entry,\n          status: \"failed\",\n          error: action.payload ?? action.error.message,\n        };\n      })\n      .addCase(searchLocations.pending, (state) => {\n        state.search.status = \"loading\";\n        state.search.error = null;\n      })\n      .addCase(searchLocations.fulfilled, (state, action) => {\n        state.search.status = \"succeeded\";\n        state.search.results = action.payload.map((item) => ({\n          ...item,\n          id: item.id ?? locationKey(item),\n        }));\n      })\n      .addCase(searchLocations.rejected, (state, action) => {\n        state.search.status = \"failed\";\n        state.search.error = action.payload ?? action.error.message;\n      });\n  },\n});\n\nexport const { setUnit, setSearchQuery, toggleFavorite, hydrateFavorite } = weatherSlice.actions;\n\nexport default weatherSlice.reducer;\n","usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\src\\services\\weatherApi.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"d:\\Personal\\weather\\react\\vite.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]